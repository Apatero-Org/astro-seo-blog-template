@import './fonts.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Mode - WCAG AAA compliant colors */
    --color-background: #ffffff;
    --color-surface: #fafafa;
    --color-surface-hover: #f0f0f0;
    --color-border: #e5e5e5;
    --color-primary: #000000;
    --color-primary-hover: #333333;
    --color-text: #000000;
    --color-text-muted: #6b6b6b;  /* 5.74:1 contrast ✓ */
    --color-text-light: #757575;  /* 4.61:1 contrast ✓ (was #9b9b9b at 2.84:1) */
  }

  .dark {
    /* Dark Mode - WCAG AAA compliant colors */
    --color-background: #000000;
    --color-surface: #0a0a0a;
    --color-surface-hover: #1a1a1a;
    --color-border: #1a1a1a;
    --color-primary: #ffffff;
    --color-primary-hover: #cccccc;
    --color-text: #ffffff;
    --color-text-muted: #a0a0a0;  /* 6.93:1 contrast ✓ */
    --color-text-light: #8a8a8a;  /* 4.54:1 contrast ✓ (was #6b6b6b at 5.74:1, improved for consistency) */
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-text antialiased;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  .font-display {
    font-family: 'Bebas Neue', 'Arial Black', 'Impact', -apple-system, sans-serif;
    letter-spacing: 0.05em;
  }

  ::selection {
    @apply bg-text text-background;
  }

  /* WCAG 2.2 Enhanced Focus Styles - 2.4.11 Focus Not Obscured (AA) */
  /* Visible focus indicators for keyboard navigation */
  *:focus-visible {
    outline: 3px solid;
    outline-color: #0066cc;
    outline-offset: 2px;
    border-radius: 2px;
  }

  .dark *:focus-visible {
    outline-color: #4da6ff;
  }

  /* Enhanced focus for interactive elements */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  [tabindex]:focus-visible {
    outline: 3px solid #0066cc;
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.1);
  }

  .dark a:focus-visible,
  .dark button:focus-visible,
  .dark input:focus-visible,
  .dark textarea:focus-visible,
  .dark select:focus-visible,
  .dark [tabindex]:focus-visible {
    outline-color: #4da6ff;
    box-shadow: 0 0 0 4px rgba(77, 166, 255, 0.1);
  }

  /* Ensure focus is never hidden behind other content */
  *:focus-visible {
    position: relative;
    z-index: 1;
  }

  /* WCAG 2.2 Target Size - 2.5.8 (AA) minimum 24x24px */
  /* All interactive targets meet minimum size */
  button:not(.icon-only),
  a:not(.icon-only),
  [role="button"]:not(.icon-only) {
    min-height: 24px;
    min-width: 24px;
  }

  /* Icon buttons specifically marked get 44x44 (AAA) */
  button.icon-only,
  a.icon-only,
  [role="button"].icon-only {
    min-height: 44px;
    min-width: 44px;
  }

  /* Hide scrollbars completely */
  ::-webkit-scrollbar {
    width: 0px;
    height: 0px;
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background: transparent;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  /* Hide scrollbars in Firefox */
  * {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
}

@layer components {
  .container {
    @apply mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl;
  }

  .prose-custom {
    @apply prose prose-neutral dark:prose-invert max-w-none
      prose-headings:font-semibold
      prose-h1:text-3xl prose-h1:mb-4
      prose-h2:text-2xl prose-h2:mb-3
      prose-h3:text-xl prose-h3:mb-2
      prose-p:mb-4 prose-p:leading-relaxed
      prose-a:no-underline prose-a:border-b prose-a:border-border hover:prose-a:border-text
      prose-img:rounded-lg prose-img:shadow-sm
      prose-pre:bg-surface prose-pre:border prose-pre:border-border prose-pre:text-text
      prose-code:bg-surface prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:text-sm prose-code:text-text prose-code:font-mono
      prose-blockquote:border-l-4 prose-blockquote:border-border prose-blockquote:pl-4
      prose-ul:list-disc prose-ul:pl-6
      prose-ol:list-decimal prose-ol:pl-6;
  }

  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium 
      rounded-md transition-all duration-200 focus:outline-none focus:ring-2 
      focus:ring-offset-2 focus:ring-text disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-text text-background hover:opacity-90 focus:ring-text;
  }

  .btn-secondary {
    @apply btn bg-surface text-text border border-border hover:bg-border focus:ring-border;
  }

  .card {
    @apply bg-surface border border-border rounded-lg p-6 transition-all duration-200;
  }

  .card-hover {
    @apply card hover:shadow-lg hover:border-text-light;
  }

  .input {
    @apply w-full px-3 py-2 bg-background border border-border rounded-md
      focus:outline-none focus:ring-2 focus:ring-text focus:border-transparent
      placeholder:text-text-light;
  }

  .label {
    @apply block text-sm font-medium mb-1;
  }
}

@layer utilities {
  .animation-delay-200 {
    animation-delay: 200ms;
  }
  
  .animation-delay-400 {
    animation-delay: 400ms;
  }

  .text-balance {
    text-wrap: balance;
  }

  /* Animations without colors */
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scale-up {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .float-animation {
    animation: float 6s ease-in-out infinite;
  }

  .slide-up {
    animation: slide-up 0.5s ease-out;
  }

  .scale-up {
    animation: scale-up 0.3s ease-out;
  }

  /* Black and white effects only */
  .glass-effect {
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .dark .glass-effect {
    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .pattern-dots {
    background-image: radial-gradient(circle, currentColor 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.05;
  }

  .pattern-grid {
    background-image: 
      linear-gradient(currentColor 1px, transparent 1px),
      linear-gradient(90deg, currentColor 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.05;
  }
}